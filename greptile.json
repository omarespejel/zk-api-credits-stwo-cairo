{
  "strictness": 1,
  "commentTypes": [
    "logic",
    "syntax",
    "style",
    "info"
  ],
  "triggerOnUpdates": true,
  "fileChangeLimit": 250,
  "instructions": "Production-grade review only: prioritize correctness, security, and reproducibility over style. Focus on circuit soundness, witness/public boundary mistakes, Merkle membership logic, nullifier/share derivation, solvency/range constraints, state-transition integrity, benchmark schema integrity, and CI matrix safety. Treat silent fallback behavior, ambiguous parsing, and schema drift as high risk. Avoid markdown formatting-only nitpicks unless they hide technical meaning.",
  "ignorePatterns": "target/**\nscripts/results/**\n**/*_proof.json\n**/*.proof.json\n**/__pycache__/**",
  "updateExistingSummaryComment": true,
  "shouldUpdateDescription": false,
  "fixWithAI": true,
  "excludeAuthors": [
    "dependabot[bot]",
    "github-actions[bot]"
  ],
  "statusCheck": true,
  "statusCommentsEnabled": true,
  "includeConfidenceScore": true,
  "includeSequenceDiagram": false,
  "customContext": {
    "rules": [
      {
        "rule": "Any change to ticket bounds, solvency checks, or nullifier/share equations must preserve protocol semantics and should be backed by tests.",
        "scope": [
          "src/**/*.cairo",
          "scripts/bench_inputs/**/*.py"
        ]
      },
      {
        "rule": "State-transition logic must reject stale or mismatched commitments/signatures and include negative-path test coverage.",
        "scope": [
          "src/**/*.cairo",
          "scripts/v2_sequential_demo.py",
          "scripts/tests/test_v2_sequential_demo.py"
        ]
      },
      {
        "rule": "Benchmark scripts must emit self-describing metadata to avoid mixing prover engines or profiles by accident.",
        "scope": [
          "scripts/bench/**/*.sh",
          "scripts/bench/**/*.py"
        ]
      },
      {
        "rule": "CI/preflight changes must fail hard on matrix/schema drift and keep explicit checks for known unsupported paths.",
        "scope": [
          "scripts/ci/**/*.py",
          ".github/workflows/*.yml",
          "compat_matrix*.json"
        ]
      },
      {
        "rule": "Interop scripts must fail loudly on parse/timeout/schema mismatches and include deterministic test coverage for failure modes.",
        "scope": [
          "scripts/interop/**/*.py"
        ]
      },
      {
        "rule": "For README/docs changes, prioritize factual consistency with committed scripts/results; de-prioritize markdown formatting-only comments.",
        "scope": [
          "README.md",
          "scripts/bench/README.md"
        ]
      }
    ],
    "files": [
      {
        "path": "README.md",
        "description": "Protocol scope, constraints, and caveats."
      },
      {
        "path": "scripts/bench/README.md",
        "description": "Benchmark methodology and reproducibility contract."
      },
      {
        "path": "compat_matrix.json",
        "description": "Support matrix contract for local preflight."
      },
      {
        "path": "compat_matrix_ci.json",
        "description": "Support matrix contract for CI preflight."
      }
    ]
  }
}
